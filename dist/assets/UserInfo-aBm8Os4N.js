import{r as n,D as f,j as u}from"./index-Ckzx-o10.js";import{p as h,H as g}from"./pageTransition-E1MwJ03W.js";import{F as v}from"./Form-Sv8o4alG.js";import{B as y}from"./ButtonsContainer-xXE8qxYn.js";function N(e){const a=/\b([A-ZÀ-ÿ][-,a-z. ']+[ ]*)+/gm.test(e);return{value:e,isValid:a,text:e===""?"This field is required":a?"":"The name must have an initial capital letter"}}function T(e){const a=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/g.test(e);return{value:e,isValid:a,text:e===""?"This field is required":a?"":"Invalid Email"}}function I(e){const a=/^(\+?1\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{3}$/g.test(e);return{value:e,isValid:a,text:e===""?"This field is required":a?"":"Invalid phone number"}}function b(e){const[r,a]=n.useState({value:e.userName.value,isValid:e.userName.isValid,text:""}),[d,m]=n.useState({value:e.userEmail.value,isValid:e.userEmail.isValid,text:""}),[i,s]=n.useState({value:e.userPhone.value,isValid:e.userPhone.isValid,text:""});function t(l){return a(N(l))}function V(l){return m(T(l))}function c(l){return s(I(l))}return{nameValidation:t,emailValidation:V,phoneValidation:c,nameValidity:r,emailValidity:d,phoneValidity:i}}function j(){const{userData:e,setNavIndex:r}=n.useContext(f),{nameValidation:a,emailValidation:d,phoneValidation:m,nameValidity:i,emailValidity:s,phoneValidity:t}=b(e),[V,c]=n.useState(!1),[l,p]=n.useState(!0),x=[{nameClass:"userInfoWrapper",type:"text",name:"username",id:"username",labelText:"Name",ariaText:"write your name",isLegend:!1,defaultValue:i.value,placeholder:"e.g. Stephen king",helperText:i,onChange:o=>a(o.target.value),onBlur:null},{nameClass:"userInfoWrapper",type:"email",name:"useremail",id:"useremail",labelText:"Email Address",ariaText:"write your Email Address",isLegend:!1,defaultValue:s.value,placeholder:"e.g. stephenking@lorem.com",helperText:s,onChange:o=>d(o.target.value),onBlur:null},{nameClass:"userInfoWrapper",type:"tel",name:"userphone",id:"userphone",labelText:"Phone Number",ariaText:"write your Phone Number",isLegend:!1,defaultValue:t.value,placeholder:"e.g. +1 234 567 890",helperText:t,onChange:o=>m(o.target.value),onBlur:null}];return n.useEffect(()=>{r(0),p(!!(i.isValid&&s.isValid&&t.isValid)),h(c)},[]),n.useEffect(()=>{e.userName.value=i.value,e.userName.isValid=i.isValid,e.userEmail.value=s.value,e.userEmail.isValid=i.isValid,e.userPhone.value=t.value,e.userPhone.isValid=t.value,p(!!(i.isValid&&s.isValid&&t.isValid)),localStorage.setItem("userData",JSON.stringify(e))},[i,s,t]),u.jsxs("section",{className:`userInfoSection ${V?"":"noVisible"}`,children:[u.jsxs("div",{className:"container",children:[u.jsx(g,{title:"Personal info",description:" Please provide your name, email address, and phone number."}),u.jsx(v,{data:x})]}),u.jsx(y,{data:[{url:l?"/plan":"#",text:"Next Step",classNm:"btnNext",ariaText:"Go to plan section",isActive:l}]})]})}export{j as default};
